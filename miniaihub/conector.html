<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>{{miniai_name}} | MiniIA Hub</title>
    <meta name="description" content="{{miniai_description}}">
    <meta property="og:title" content="{{miniai_name}} | MiniIA Hub">
    <meta property="og:description" content="{{miniai_description}}">
    <meta property="og:image" content="{{miniai_image}}">
    
    <!-- Fontes -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500&family=Poppins:wght@600;700&display=swap" rel="stylesheet">
    
    <!-- CSS -->
    <link rel="stylesheet" href="/miniaihub/css/common.css">
    <link rel="stylesheet" href="/miniaihub/css/conector.css">
</head>
<body data-theme="light">
    <!-- Navbar Component -->
    <header class="navbar" id="main-navbar">
        <!-- Será carregado via JavaScript -->
    </header>

    <!-- Breadcrumb -->
    <div class="breadcrumb">
        <div class="container">
            <ul>
                <li><a href="/miniaihub/">Início</a></li>
                <li><a href="/miniaihub/catalogo.html">Catálogo</a></li>
                <li>{{miniai_name}}</li>
            </ul>
        </div>
    </div>

    <!-- Mini-IA Header -->
    <div class="miniai-header">
        <div class="container">
            <div class="miniai-header-content">
                <div class="miniai-header-info">
                    <h1>{{miniai_name}}</h1>
                    <p class="miniai-header-description">{{miniai_description}}</p>
                    
                    <div class="miniai-header-meta">
                        <div class="miniai-header-rating">
                            <div class="stars">
                                {{miniai_stars}}
                            </div>
                            <span>({{miniai_reviews}} avaliações)</span>
                        </div>
                        
                        <div class="miniai-header-tags">
                            {{miniai_tags}}
                        </div>
                    </div>
                </div>
                
                <div class="miniai-header-image">
                    <img src="{{miniai_image}}" alt="{{miniai_name}}">
                </div>
            </div>
        </div>
    </div>

    <!-- Conector Main Content -->
    <div class="conector-main">
        <div class="container">
            <div class="conector-grid">
                <!-- Coluna Principal -->
                <div class="conector-content">
                    <!-- Abas -->
                    <div class="conector-tabs">
                        <button class="conector-tab active" data-tab="overview">Visão Geral</button>
                        <button class="conector-tab" data-tab="features">Recursos</button>
                        <button class="conector-tab" data-tab="requirements">Requisitos</button>
                        <button class="conector-tab" data-tab="reviews">Avaliações</button>
                    </div>
                    
                    <!-- Conteúdo das Abas -->
                    <div class="conector-tab-content active" id="overview-content">
                        <div class="conector-section">
                            <h2>Sobre {{miniai_name}}</h2>
                            {{miniai_about}}
                        </div>
                        
                        <div class="conector-section">
                            <h2>Como funciona</h2>
                            {{miniai_how_it_works}}
                        </div>
                        
                        <div class="conector-section">
                            <h2>Casos de uso</h2>
                            <div class="use-cases-grid">
                                {{miniai_use_cases}}
                            </div>
                        </div>
                    </div>
                    
                    <div class="conector-tab-content" id="features-content">
                        <div class="conector-section">
                            <h2>Recursos principais</h2>
                            <div class="features-list">
                                {{miniai_features}}
                            </div>
                        </div>
                        
                        <div class="conector-section">
                            <h2>Integrações disponíveis</h2>
                            <div class="integrations-grid">
                                {{miniai_integrations}}
                            </div>
                        </div>
                    </div>
                    
                    <div class="conector-tab-content" id="requirements-content">
                        <div class="conector-section">
                            <h2>Requisitos</h2>
                            <ul class="requirements-list">
                                {{miniai_requirements}}
                            </ul>
                        </div>
                        
                        <div class="conector-section">
                            <h2>Permissões necessárias</h2>
                            <div class="permissions-list">
                                {{miniai_permissions}}
                            </div>
                        </div>
                    </div>
                    
                    <div class="conector-tab-content" id="reviews-content">
                        <div class="conector-section">
                            <h2>Avaliações dos usuários</h2>
                            
                            <div class="reviews-summary">
                                <div class="reviews-average">
                                    <div class="reviews-average-number">{{miniai_average_rating}}</div>
                                    <div class="reviews-average-stars">
                                        {{miniai_average_stars}}
                                    </div>
                                    <div class="reviews-count">{{miniai_reviews}} avaliações</div>
                                </div>
                                
                                <div class="reviews-breakdown">
                                    {{miniai_ratings_breakdown}}
                                </div>
                            </div>
                            
                            <div class="reviews-list">
                                {{miniai_reviews_list}}
                            </div>
                        </div>
                    </div>
                </div>
                
                <!-- Barra Lateral -->
                <div class="conector-sidebar">
                    <div class="installation-card">
                        <div class="installation-header">
                            <h3>Instale agora</h3>
                            
                            <div class="installation-price">
                                {{miniai_price}}
                                <span class="installation-price-period">{{miniai_price_period}}</span>
                            </div>
                        </div>
                        
                        <div class="installation-body">
                            <p>Conecte suas contas para começar a usar {{miniai_name}}:</p>
                            
                            <div class="required-services">
                                <!-- Integrações necessárias -->
                                {{miniai_required_services}}
                            </div>
                            
                            <div class="installation-actions">
                                <button id="install-button" class="btn btn-primary btn-lg btn-block">
                                    <span id="install-text">Instalar gratuitamente</span>
                                    <span id="installing" style="display: none;">
                                        <span class="loading-spinner sm"></span>
                                        Instalando...
                                    </span>
                                </button>
                                
                                <div class="installation-note">
                                    <p><small>Você pode cancelar a qualquer momento</small></p>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <div class="developer-card">
                        <div class="developer-info">
                            <img src="{{developer_image}}" alt="{{developer_name}}" class="developer-avatar">
                            <div>
                                <h4>Desenvolvido por</h4>
                                <h3>{{developer_name}}</h3>
                            </div>
                        </div>
                        
                        <p>{{developer_description}}</p>
                        
                        <div class="developer-stats">
                            <div class="developer-stat">
                                <div class="developer-stat-value">{{developer_miniais_count}}</div>
                                <div class="developer-stat-label">Mini-IAs</div>
                            </div>
                            
                            <div class="developer-stat">
                                <div class="developer-stat-value">{{developer_installations}}</div>
                                <div class="developer-stat-label">Instalações</div>
                            </div>
                            
                            <div class="developer-stat">
                                <div class="developer-stat-value">{{developer_avg_rating}}</div>
                                <div class="developer-stat-label">Avaliação</div>
                            </div>
                        </div>
                        
                        <a href="/miniaihub/developer/{{developer_id}}" class="btn btn-outline btn-block">Ver perfil</a>
                    </div>
                    
                    <div class="support-card">
                        <h3>Suporte</h3>
                        <p>Tem dúvidas sobre esta Mini-IA?</p>
                        <a href="mailto:{{support_email}}" class="btn btn-outline btn-block">Contatar suporte</a>
                    </div>
                </div>
            </div>
        </div>
    </div>
    
    <!-- Mini-IAs Relacionadas -->
    <div class="related-miniais">
        <div class="container">
            <h2>Mini-IAs relacionadas</h2>
            
            <div class="related-miniais-grid">
                <!-- Será preenchido dinamicamente -->
                {{related_miniais}}
            </div>
        </div>
    </div>

    <!-- Footer Component -->
    <footer class="footer" id="main-footer">
        <!-- Será carregado via JavaScript -->
    </footer>

    <!-- Modal de Instalação -->
    <div class="modal" id="installation-modal">
        <div class="modal-backdrop"></div>
        <div class="modal-container">
            <div class="modal-content">
                <div class="modal-header">
                    <h2>Instalando {{miniai_name}}</h2>
                    <button class="modal-close">&times;</button>
                </div>
                
                <div class="modal-body">
                    <div class="installation-steps">
                        <div class="installation-step active" data-step="services">
                            <h3>Conectar serviços</h3>
                            <p>Para que {{miniai_name}} funcione, precisamos conectar com os seguintes serviços:</p>
                            
                            <div class="services-list">
                                <!-- Será preenchido dinamicamente -->
                            </div>
                            
                            <div class="step-actions">
                                <button class="btn btn-outline" data-action="cancel">Cancelar</button>
                                <button class="btn btn-primary" data-action="next-step" disabled>Continuar</button>
                            </div>
                        </div>
                        
                        <div class="installation-step" data-step="settings">
                            <h3>Configurações</h3>
                            <p>Configure as opções de {{miniai_name}}:</p>
                            
                            <div class="settings-form">
                                <!-- Será preenchido dinamicamente -->
                            </div>
                            
                            <div class="step-actions">
                                <button class="btn btn-outline" data-action="prev-step">Voltar</button>
                                <button class="btn btn-primary" data-action="next-step">Continuar</button>
                            </div>
                        </div>
                        
                        <div class="installation-step" data-step="confirm">
                            <h3>Confirmar instalação</h3>
                            <p>Revise as informações abaixo e confirme a instalação:</p>
                            
                            <div class="confirmation-details">
                                <!-- Será preenchido dinamicamente -->
                            </div>
                            
                            <div class="step-actions">
                                <button class="btn btn-outline" data-action="prev-step">Voltar</button>
                                <button class="btn btn-primary" data-action="install">Instalar agora</button>
                            </div>
                        </div>
                        
                        <div class="installation-step" data-step="success">
                            <div class="success-animation">
                                <svg viewBox="0 0 52 52" class="checkmark">
                                    <circle class="checkmark-circle" cx="26" cy="26" r="25" fill="none"/>
                                    <path class="checkmark-check" fill="none" d="M14.1 27.2l7.1 7.2 16.7-16.8"/>
                                </svg>
                            </div>
                            
                            <h3>Instalação concluída!</h3>
                            <p>{{miniai_name}} foi instalado com sucesso e já está funcionando.</p>
                            
                            <div class="step-actions">
                                <a href="/miniaihub/dashboard.html" class="btn btn-primary">Ir para o Dashboard</a>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Toast Container -->
    <div class="toast-container" id="toast-container"></div>

    <!-- JavaScript -->
    <script src="/miniaihub/js/theme.js"></script>
    <script src="/miniaihub/js/components.js"></script>
    <script src="/miniaihub/js/toast.js"></script>
    <script src="/miniaihub/conectores/oauth-loader.js"></script>
    <script src="/miniaihub/js/conector.js"></script>
    <script>
        // Dados específicos desta Mini-IA (serão substituídos pelo backend)
        const MINIAI_DATA = {
            id: '{{miniai_id}}',
            requiredServices: {{miniai_required_services_json}},
            settings: {{miniai_settings_json}}
        };
        
        // Inicializar conector
        document.addEventListener('DOMContentLoaded', () => {
            initConector(MINIAI_DATA);
        });
    </script>
</body>
</html>
